## 1. 概述

在本教程中，我们学习如何将Maven构建转换为Gradle构建。为此，))我们可以在现有的Maven项目上使用gradle init命令))。

## 2. Gradle设置

首先需要下载[Gradle发行版](https://gradle.org/releases/)并按照指定的[说明](https://gradle.org/install/)在你的机器上安装Gradle。如果需要，你可以深入[了解Gradle的更多信息](https://www.baeldung.com/gradle)。

## 3. Maven构建文件

让我们从一个标准的Maven Java项目开始，它的根目录中有以下pom.xml文件：

```xml
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>cn.tuyucheng.taketoday</groupId>
    <artifactId>maven-to-gradle</artifactId>
    <version>1.0.0</version>

    <dependencies>
        <dependency>
            <groupId>org.apache.commons</groupId>
            <artifactId>commons-lang3</artifactId>
            <version>3.12.0</version>
        </dependency>
    </dependencies>
</project>
```

## 4. 转换为Gradle

))我们进入到这个Maven项目的根目录，并执行gradle init命令))。此时终端提示你进行选择，我们输入yes并按enter，接下来选择Groovy作为构建脚本语言，最后我们应该看到以下输出：

```shell
$ gradle init
This will be executed during the initialization phase.

Found a Maven build. Generate a Gradle build from this? (default: yes) [yes, no] yes 

Select build script DSL:
  1: Groovy
  2: Kotlin
Enter selection (default: Groovy) [1..2] 1

Generate build using new APIs and behavior (some features may change in the next minor release)? (default: no) [yes, no] no             
                                                                                                                                        
> Task :init
Maven to Gradle conversion is an incubating feature.
Get more help with your project: https://docs.gradle.org/7.4/userguide/migrating_from_maven.html

BUILD SUCCESSFUL in 2m 59s
2 actionable tasks: 2 executed
```

## 5. 生成Gradle构建文件

现在让我们重新检查项目根目录的内容，我们应该在我们的根目录中看到一些新文件。如果你想更深入了解，可以阅读[gradle-build-settings-properties](https://www.baeldung.com/gradle-build-settings-properties)。

### 5.1 build.gradle

build.gradle文件是我们Gradle构建过程的核心组件，它等效于Maven项目的pom.xml文件。在其中，我们可以看到pom.xml属性(如groupId、version和依赖项)被转换为它们的Gradle等价物；并且build.gradle中还包含sourceCompatibility属性，它告诉我们在编译Java源代码时要使用哪个Java版本。在plugins部分，我们有“[java](https://docs.gradle.org/current/userguide/java_plugin.html#java_plugin)”，它支持构建任何类型的Java项目，以及“maven-publish”，它支持将[工件发布](https://docs.gradle.org/current/userguide/publishing_setup.html#publishing_components)到Maven兼容的仓库。

```groovy
/)
 ) This file was generated by the Gradle 'init' task.
 )/

plugins {
    id 'java'
    id 'maven-publish'
}

repositories {
    mavenLocal()
    maven {
        url = uri('https://repo.maven.apache.org/maven2/')
    }
}

dependencies {
    implementation 'org.apache.commons:commons-lang3:3.12.0'
}

group = 'cn.tuyucheng.taketoday'
version = '1.0.0'
description = 'maven-to-gradle'
java.sourceCompatibility = JavaVersion.VERSION_17

publishing {
    publications {
        maven(MavenPublication) {
            from(components.java)
        }
    }
}
```

### 5.2 settings.gradle

))在初始化阶段，Gradle通过settings.gradle文件来识别构建中包含哪些项目))。

```groovy
/)
 ) This file was generated by the Gradle 'init' task.
 )/

rootProject.name = 'maven-to-gradle'
```

### 5.3 gradlew和gradlew.bat

Gradle还生成了两个启动脚本，一个用于Windows，一个用于Linux，这些脚本可用于在没有预先安装Gradle的机器上运行项目。可以通过阅读[gradle-wrapper](Gradle-Wrapper指南.md)来了解有关Gradle Wrapper文件的更多信息。

## 6. 总结

在本文中，我们介绍了如何将包含pom.xml的Maven项目转换为具有多个构建文件(例如build.gradle、settings.gradle、gradlew和gradlew.bat)的Gradle项目。