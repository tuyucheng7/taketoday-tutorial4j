---
layout: post
title:  使用Selenium处理浏览器选项卡
category: java
copyright: java
excerpt: Java
---

## 1.概述

对于Java的每个新发布周期，我们可能需要在我们的环境中管理多个并行版本的软件开发工具包(SDK)。因此，设置和管理[JAVA_HOME](https://www.baeldung.com/java-home-on-windows-7-8-10-mac-os-x-linux)路径变量有时会变得非常痛苦。

在本教程中，我们将了解[jEnv](https://www.jenv.be/)如何帮助管理多个不同版本的[JDK](https://www.baeldung.com/jvm-vs-jre-vs-jdk)安装。

## 2.什么是jEnv？

jEnv是一个命令行工具，可以帮助我们管理多个JDK安装。它基本上在我们的shell中设置JAVA_HOME，可以全局设置，本地设置到当前工作目录，或每个shell。

它让我们可以在不同的Java版本之间快速切换。这在处理具有不同Java版本的多个应用程序时特别有用。

值得注意的是，jEnv不会为我们安装JavaJDK。相反，它只是帮助我们方便地管理多个JDK安装。

此外，让我们深入了解jEnv安装并查看其最常用的命令。

## 3.安装jEnv

jEnv支持Linux和MacOS操作系统。此外，它还支持Bash和Zshshell。让我们从使用终端安装它开始：

在MacOS上，我们可以简单地使用[Homebrew](https://brew.sh/)安装jEnv：

```bash
$ brew install jenv
```

在Linux上，我们可以从源代码安装jEnv：

```bash
$ git clone https://github.com/jenv/jenv.git ~/.jenv
```

接下来，让我们根据所使用的shell将已安装的jenv命令添加到路径中。

为Bashshell添加PATH条目：

```bash
$ echo 'export PATH="$HOME/.jenv/bin:$PATH"' >> ~/.bash_profile
$ echo 'eval "$(jenv init -)"' >> ~/.bash_profile
```

为Zshshell添加PATH条目：

```bash
$ echo 'export PATH="$HOME/.jenv/bin:$PATH"' >> ~/.zshrc
$ echo 'eval "$(jenv init -)"' >> ~/.zshrc
```

最后，为了验证jEnv安装，我们使用jenvdoctor命令。在MacOS上，该命令将显示以下内容：

```bash
$ jenv doctor
[OK]	No JAVA_HOME set
[ERROR]	Java binary in path is not in the jenv shims.
[ERROR]	Please check your path, or try using /path/to/java/home is not a valid path to java installation.
	PATH : /opt/homebrew/Cellar/jenv/0.5.4/libexec/libexec:/Users/jenv/.jenv/shims:/Users/user/.jenv/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin
[OK]	Jenv is correctly loaded
```

这表明jenv已正确安装和加载，但尚未安装Java。

此外，让我们看一下如何安装和管理多个JDK版本。

## 4.管理JDK安装

让我们从设置JDK版本开始。我们可以使用可用的包管理器之一安装JDK，例如brew、[yum或apt](https://www.baeldung.com/linux/yum-and-apt)。或者，我们也可以下载JDK并将其放在某个文件夹中。

jEnv的好处是我们不需要通过包管理器安装JDK。我们可以简单地下载一个JDK并将其放入某个文件夹中。

### 4.1.将JDK添加到jEnv

首先，要将新的JDK与jEnv一起使用，我们需要告诉jEnv在哪里找到它。为此，我们使用jenvadd命令并指定JDK的路径：

```bash
$ jenv add /Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/
openjdk8-1.8.0.332 added
1.8.0.332 added
1.8 added
```

这会将JDK 8添加到jEnv。每个版本都以三个不同的名称提供。让我们再次运行jenvdoctor来确认JDK设置：

```bash
$ jenv doctor
[OK]	No JAVA_HOME set
[OK]	Java binaries in path are jenv shims
[OK]	Jenv is correctly loaded
```

我们可以看到jEnv现在可以识别配置的JDK。

此外，让我们使用jenvversions命令列出所有可用的JDK和jEnv：

```bash
$ jenv versions
* system (set by /Users/user/.jenv/version)
  1.8
  1.8.0.332
  openjdk64-1.8.0.332
```

这列出了使用jEnv注册的所有JDK。在我们的例子中，我们使用jEnv配置了JDK 8。

为了演示使用多个JDK，让我们再安装一个JDK版本–11并使用jEnv配置它：

```bash
$ jenv add /Library/Java/JavaVirtualMachines/openjdk-11.jdk/Contents/Home/
openjdk64-11.0.15 added
11.0.15 added
11.0 added
11 added
```

最后，现在运行jenvversions命令将列出两个已配置的JDK版本：

```bash
$ jenv versions
* system (set by /Users/avinb/.jenv/version)
  1.8
  1.8.0.332
  11
  11.0
  11.0.15
  openjdk64-11.0.15
  openjdk64-1.8.0.332
```

显然，我们现在有两个JDK版本都配置了jEnv。

### 4.2.使用jEnv管理JDK版本

jEnv支持三种类型的JDK配置：

-   全局-如果我们在计算机上的任何位置的命令行中键入java命令，将使用JDK。
-   本地–仅为特定文件夹配置的JDK。在文件夹中键入java命令将使用本地JDK版本而不是全局JDK版本。
-   Shell–将仅用于当前shell实例的JDK。

首先，让我们检查一下全局JDK的版本：

```bash
$ jenv global
system
```

此命令输出“system”，表示系统安装的JDK将用作全局JDK。让我们将全局JDK版本设置为JDK 11：

```bash
$ jenv global 11
```

现在检查全局版本将显示JDK 11：

```bash
$ jenv global
11
```

接下来，让我们看看如何设置本地JDK版本。

例如，假设我们在~/baeldung-project目录中有一个使用JDK 8的示例项目。让我们cd进入该目录并检查该项目的本地JDK版本：

```bash
$ jenv local
jenv: no local version configured for this directory
```

此错误消息表示我们尚未为此目录设置任何本地JDK版本。在没有本地JDK版本的情况下运行jenvversion命令将显示全局JDK版本。让我们为这个目录设置一个本地JDK版本：

```bash
$ jenv local 1.8
```

此命令在~/baeldung-project目录中设置本地JDK。设置本地JDK基本上会在当前目录中创建一个名为.java-version的文件。该文件包含我们设置的本地JDK版本“1.8”。

在此目录中再次运行jenvversion命令现在将输出JDK 8。让我们检查此目录中设置的本地JDK版本：

```bash
$ jenv local
1.8
```

最后，要为特定的shell实例设置JDK版本，我们使用jenvshell命令：

```bash
$ jenv local 1.8
```

这会为当前shell实例设置JDK版本，并覆盖已设置的任何本地和全局JDK版本。

### 4.3.使用Maven和Gradle配置jEnv

众所周知，[Maven](https://www.baeldung.com/maven)、[Gradle](https://www.baeldung.com/gradle)等工具都是使用系统JDK来运行的。它不使用jEnv配置的JDK。为了确保jEnv与Maven和Gradle正常工作，我们必须启用它们各自的插件。

对于Maven，我们将启用jEnvmaven插件：

```bash
$ jenv enable-plugin maven
```

同样，对于Gradle，我们将启用jEnvgradle插件：

```bash
$ jenv enable-plugin gradle
```

现在运行Maven和Gradle命令将使用特定于jEnv的JDK版本，而不是系统JDK。

请注意，有时jEnv可能不会选择正确的JDK版本，我们可能会以错误告终。对于这种情况，我们可能必须启用jEnv导出插件：

```bash
$ jenv enable-plugin exports
```

换句话说，此插件将确保正确设置JAVA_HOME变量。

此外，[SDKMAN](https://www.baeldung.com/java-sdkman-intro)是一种用于管理JDK的替代工具，以及其他工具。

## 5.总结

在本文中，我们首先了解了什么是jEnv以及如何安装它。

然后我们研究了jEnv如何帮助我们方便地配置和管理不同的JDK安装。接下来，我们看到了如何使用jEnv快速使用全局、本地和特定于shell的JDK版本。这在处理具有不同JDK版本的多个不同项目时特别有帮助。

最后，我们研究了如何配置jEnv以与Maven和Gradle等构建工具一起工作。
